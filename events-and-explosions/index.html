<!doctype html><html lang=en-us><head><title>Events and explosions in a distributed system | Marcus Olsson</title><link rel=stylesheet href=/scss/main.7c439f2b85b8e5c52f463b575d09c1461d970945d85181252140cd1a2ec8ad35c078d6b900d909cc73d4ffec4422d2db072b072a7045bbc46be2bab46640be7b.css integrity="sha512-fEOfK4W45cUvRjtXXQnBRh2XCUXYUYElIUDNGi7IrTXAeNa5ANkJzHPU/+xEItLbBysHKnBFu8Rr4rq0ZkC+ew=="><meta charset=utf-8><meta data-rh=true name=viewport content="width=device-width,minimum-scale=1,initial-scale=1,maximum-scale=5"><meta name=author content="Marcus Olsson"><meta name=description content="I did a talk on Event Storming a short while ago where I started off by explaining why state transitions are so much more interesting than the actual states themselves. We had a lot of good discussions afterwards and I felt I wanted to elaborate a little bit further on the theme, in the context of distributed systems."><meta name=twitter:card content="summary"><meta name=og:title content="Events and explosions in a distributed system | Marcus Olsson"><meta name=og:description content="I did a talk on Event Storming a short while ago where I started off by explaining why state transitions are so much more interesting than the actual states themselves. We had a lot of good discussions afterwards and I felt I wanted to elaborate a little bit further on the theme, in the context of distributed systems."><meta name=og:type content="article"><meta name=og:url content="https://marcus.se.net/events-and-explosions/"><meta name=og:image content="https://marcus.se.net/images/avatar_hu79b10322fccaa7c63e12808baa2d9ea4_209492_512x512_resize_box_3.png"><link rel=icon sizes=32x32 type=image/png href=/images/avatar_hu79b10322fccaa7c63e12808baa2d9ea4_209492_32x32_resize_box_3.png><link rel=apple-touch-icon sizes=180x180 type=image/png href=/images/avatar_hu79b10322fccaa7c63e12808baa2d9ea4_209492_180x180_resize_box_3.png><link rel=“canonical” href=https://marcus.se.net/events-and-explosions/><link rel=prefetch href=/><link rel=prefetch href=/writing/><link rel=prefetch href=/speaking/><link rel=prefetch href=/projects/><script defer data-domain=marcus.se.net src=https://plausible.io/js/plausible.js></script>
<script src=/js/main.min.4a7db9712038f8d184460fcb634d3df46b2835119391ec11d1d951cf8250ed2a5b0cb946512a05b46f7c15ec55229bf36e849ea280bc3da14f8ee4f59031a5d7.js integrity="sha512-Sn25cSA4+NGERg/LY0099GsoNRGTkewR0dlRz4JQ7SpbDLlGUSoFtG98FexVIpvzboSeooC8PaFPjuT1kDGl1w=="></script></head><body><a class=skip-link href=#main>Skip to content</a><header class=header><div class=brand><a class=brand__title href=/>Marcus Olsson</a></div><nav class=main-nav aria-label=Main><ul><li><a class=main-nav__link href=/writing>Writing</a></li><li><a class=main-nav__link href=/speaking>Speaking</a></li><li><a class=main-nav__link href=/projects>Projects</a></li></ul></nav></header><div class=container><main id=main><article class=text-block><header class=section__header><h1>Events and explosions in a distributed system</h1><p class=publication-date><time datetime=2015-06-13>Jun 13, 2015</time>&nbsp;&mdash;&nbsp;4 minutes read</p></header><section><p>As much as some people would like to think, the world is not synchronized to your personal system clock. Things are happening concurrently all around us without you even knowing about it. The world is a infinitely complex distributed system that consists of an enormous amount of sub-systems, constantly interacting with each other. I would even argue that the communication between ourselves and those other systems is what makes it worth waking up in the morning. Seldom though do we actually care about the actual state of those systems but rather the transition from one state to another. Let me give you an example.</p><p>As I am walking through a parking lot, I generally do not care about the cars that are parked. If one of them started moving however, or if an alarm goes off, then maybe I will start observing it. If I were to tell my friends about that fateful day when my car suddenly exploded, I probably would do so by summarizing the state transitions I observed in the systems involved.</p><blockquote><p>I was <strong>going</strong> to the pub but <strong>stopped</strong> when my car suddenly <strong>exploded</strong>!</p></blockquote><p>Of course, I could inspect my car every now and then to make sure that it is, hopefully, in a non-exploded state. Generally though, most systems in the real-world are event-driven; they react to changes in other systems and act based upon those changes. But not all systems subscribe to every single event that is being published, only those who matter to them. A group of crying children will probably have different stories about what happened (although there might be some data corruption in this case).</p><p>I am not saying that state is useless though. Now that I know that my car has been blown up, its current state might actually indicate what I should do next. Should I buy a new set of windows or will some duct tape suffice?</p><p>After I have persisted the fact that I will be walking home, typically I would want to interact with another external system, possibly someone at my insurance company. It turns out that if I focus on the state transitions, or events, I can make myself better understood. Instead of starting off by describing the sorry state of my vandalized property, explaining what actually happened to it would probably be a good start. Hopefully the insurance company will respond telling me that everything is going to be 200 OK.</p><p>When we apply DDD we are often (if not always), interested in modeling a domain that, in its nature, is not technical at all. It will most likely be facing problems that have been around since before there were even computers to solve them. Any business involving actual people is a distributed system, which means many of the technical challenges of distributed computing will have real-life counterparts. As more and more companies jump on the microservice bandwagon, I cannot help feeling part of the added complexity from going distributed comes from the fact that now we need to start solving the problems that have been part of the business since before the arrival of computers. What would happen for example if a loan application physically got lost before it could be approved? How would a understaffed department deal with the growing pile of application forms?</p><p>The real-world analogy is useful in many more cases than I could fit in this post and it helps us reason about many of the design decisions we face in the software industry. Think about what the effect would be if two people were to share the same data store. Many organizations struggle with persisting information to all their employees (does a meeting propagate information faster than e-mail?). Maybe the reason why we are adopting techniques like CQRS and Event Sourcing is because these designs better resemble the way the world around us actually work? The world is eventually consistent and I would say it has scaled quite nicely.</p></section></article><script src=/js/main.min.4a7db9712038f8d184460fcb634d3df46b2835119391ec11d1d951cf8250ed2a5b0cb946512a05b46f7c15ec55229bf36e849ea280bc3da14f8ee4f59031a5d7.js integrity="sha512-Sn25cSA4+NGERg/LY0099GsoNRGTkewR0dlRz4JQ7SpbDLlGUSoFtG98FexVIpvzboSeooC8PaFPjuT1kDGl1w=="></script></main><footer class="footer text-block"><p id=bio class=text--disabled>I'm a Developer Advocate at
<a href=https://grafana.com>Grafana Labs</a>, who enjoys learning,
building, and teaching software.</p><div class=social><a class=social__icon href=https://github.com/marcusolsson aria-label=GitHub><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub icon</title><path d="M12 .297c-6.63.0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577.0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93.0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176.0.0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22.0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22.0 1.606-.015 2.896-.015 3.286.0.315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class=social__icon href=https://twitter.com/marcusolsson aria-label=Twitter><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Twitter icon</title><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958.0 002.163-2.723c-.951.555-2.005.959-3.127 1.184A4.92 4.92.0 0011.78 8.288C7.69 8.095 4.067 6.13 1.64 3.162A4.822 4.822.0 00.974 5.637c0 1.71.87 3.213 2.188 4.096A4.904 4.904.0 01.934 9.117v.06a4.923 4.923.0 003.946 4.827 4.996 4.996.0 01-2.212.085 4.936 4.936.0 004.604 3.417A9.867 9.867.0 011.17 19.611c-.39.0-.779-.023-1.17-.067a13.995 13.995.0 007.557 2.209c9.053.0 13.998-7.496 13.998-13.985.0-.21.0-.42-.015-.63A9.935 9.935.0 0024 4.59z"/></svg></a><a class=social__icon href=https://linkedin.com/in/marcusolsson1 aria-label=LinkedIn><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>LinkedIn icon</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853.0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601.0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144.0-2.063-.926-2.063-2.065.0-1.138.92-2.063 2.063-2.063 1.14.0 2.064.925 2.064 2.063.0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225.0H1.771C.792.0.0.774.0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2.0 22.222.0h.003z"/></svg></a></div><p class=text--disabled><small>&copy; Copyright 2022
<a href=https://marcus.se.net>Marcus Olsson</a></small></p></footer></div></body></html>